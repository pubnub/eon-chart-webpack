<html>
  <head>

    <script src="https://pubnub.github.io/eon/v/eon/0.1.0/eon.js" type="text/javascript"></script>
    <link href="https://pubnub.github.io/eon/v/eon/0.1.0/eon.css" type="text/css" rel="stylesheet" />

  </head>
  <body>
    <div id="chart"></div>
    <script>
    // using the example stream from 
    // http://www.pubnub.com/developers/data-streams/sensor-network
    var pubnub = new PubNub({
        subscribeKey: 'sub-c-5f1b7c8e-fbee-11e3-aa40-02ee2ddab7fe',
        ssl: true
	});
    eon.chart({
    	pubnub: pubnub,
	    channel: 'pubnub-sensor-network',
        limit: 100,
        rate: 10,
        ssl: true,
        debug: true,
    	generate: {
            transition: {
                duration: 3
            },
    	    bindto: '#chart',
    	    data: {
				x: 'x'
    	    },
    	    axis: {
    	      	x: {
    	            type: 'timeseries',
	    	        tick: {
	    	            format: '%H:%m:%S'
	    	        }
    	      	}
    	    }
    	},
	    transform: function(m) {

	    	return {
                eon: {
    	    		'Humidy': m.humidity,
    	    		'Temperature': m.ambient_temperature,
    	    		'Light': m.photosensor
	    	    }
            }
	    }
	});
    </script>
  </body>
</html>
